<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PLAY M3U</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
</head>
<body>

<noscript>
  <p style="color:white;text-align:center;padding:40px">
    Aplikasi membutuhkan JavaScript untuk berjalan.
  </p>
</noscript>

<!-- ========== PAGE: WELCOME ========== -->
<div id="page-welcome" class="page active">
  <div class="welcome-bg"></div>
  <div class="welcome-card">
    <h1 class="welcome-title">PLAY M3U.</h1>
    <p class="welcome-desc">
      Aplikasi ini hanya untuk memutar siaran IPTV.<br>
      Belum ada channel di dalamnya.<br>
      Tambahkan playlist M3U Anda untuk mulai menonton.
    </p>
    <button class="btn-primary" id="btn-add-playlist-welcome" tabindex="1">
      Tambah<br>Playlist M3U
    </button>
  </div>
</div>

<!-- ========== PAGE: CHOOSE TYPE ========== -->
<div id="page-choose-type" class="page">
  <div class="page-header">
    <button class="btn-back" id="back-from-choose" tabindex="1">
      <span class="arrow-icon">&#8592;</span>
      <span class="underline-text">Kembali</span>
    </button>
    <span class="page-title">Tambahkan playlist</span>
  </div>

  <div class="option-list">
    <div class="option-item focusable" id="opt-url" tabindex="2">
      <div class="option-checkbox"></div>
      <span class="option-label">M3U playlist from URL</span>
    </div>

    <div class="option-item focusable" id="opt-storage" tabindex="3">
      <div class="option-checkbox"></div>
      <span class="option-label">M3U playlist from storage/USB</span>
    </div>
  </div>

  <div class="catatan-box">
    <span class="catatan-label">catatan:</span>
    <p class="catatan-text" id="catatan-choose-text"></p>
  </div>
</div>

<!-- ========== PAGE: ENTER URL ========== -->
<div id="page-enter-url" class="page">
  <div class="page-header">
    <button class="btn-back" id="back-from-url" tabindex="1">
      <span class="arrow-icon">&#8592;</span>
      <span class="underline-text">Kembali</span>
    </button>
    <span class="page-title">Masukkan playlist</span>
  </div>

  <div class="form-section">
    <label class="field-label">M3U playlist URL</label>
    <input type="url" id="url-input" class="url-input"
           placeholder="https://contoh.com/siaran"
           tabindex="2" autocomplete="off">

    <div class="action-row">
      <button class="btn-icon focusable" id="btn-clear-url" tabindex="3">✕</button>
      <button class="btn-icon focusable" id="btn-next-url" tabindex="4">▶</button>
    </div>
  </div>

  <div class="loading-box" id="loading-url" style="display:none">
    <div class="spinner"></div>
    <p>Mohon bersabar...</p>
  </div>
</div>

<!-- ========== PAGE: ENTER STORAGE ========== -->
<div id="page-enter-storage" class="page">
  <div class="page-header">
    <button class="btn-back" id="back-from-storage" tabindex="1">
      <span class="arrow-icon">&#8592;</span>
      <span class="underline-text">Kembali</span>
    </button>
    <span class="page-title">Masukkan playlist</span>
  </div>

  <div class="form-section">
    <label class="field-label">M3U playlist file</label>

    <div class="file-drop-zone focusable" id="file-drop-zone" tabindex="2">
      <p>Klik atau seret file .m3u / .m3u8</p>
      <input type="file" id="file-input"
             accept=".m3u,.m3u8,.txt"
             style="display:none">
    </div>

    <div class="action-row">
      <button class="btn-icon focusable" id="btn-clear-file" tabindex="3">✕</button>
      <button class="btn-icon focusable" id="btn-next-file" tabindex="4">▶</button>
    </div>
  </div>
</div>

<!-- ========== PAGE: PLAYLIST NAME ========== -->
<div id="page-playlist-name" class="page">
  <div class="page-header">
    <button class="btn-back" id="back-from-name" tabindex="1">
      <span class="arrow-icon">&#8592;</span>
      <span class="underline-text">Kembali</span>
    </button>
    <span class="page-title">Nama playlist</span>
  </div>

  <div class="form-section">
    <input type="text" id="name-input" class="url-input"
           placeholder="playlist ku 1" tabindex="2">

    <div class="action-row">
      <button class="btn-icon focusable" id="btn-clear-name" tabindex="3">✕</button>
      <div class="channel-count-label" id="channel-count">0 siaran</div>
      <button class="btn-icon focusable" id="btn-save-playlist" tabindex="4">▶</button>
    </div>
  </div>
</div>

<!-- ========== PAGE: SETTINGS ========== -->
<div id="page-settings" class="page">
  <div class="page-header settings-header">
    <span class="page-title">Pengaturan</span>
  </div>

  <div class="settings-menu">
    <div class="settings-item focusable" id="btn-start-watch" tabindex="1">
      Mulai menonton
    </div>

    <div class="settings-item focusable" id="btn-go-playlists" tabindex="2">
      Playlists
    </div>
  </div>
</div>

<!-- ========== PAGE: PLAYLISTS ========== -->
<div id="page-playlists" class="page">
  <div class="page-header">
    <button class="btn-back" id="back-from-playlists" tabindex="1">
      <span class="arrow-icon">&#8592;</span>
      <span class="underline-text">Kembali</span>
    </button>
    <span class="page-title">Playlists</span>
  </div>

  <div id="playlist-list-container"></div>

  <div class="btn-add-new-wrap">
    <button class="btn-add-new focusable"
            id="btn-add-new-playlist" tabindex="50">
      + Tambah Playlist Baru
    </button>
  </div>
</div>

<!-- ========== PAGE: PLAYER ========== -->
<div id="page-player" class="page player-page">
  <div class="player-loading" id="player-loading" style="display:none">
    <div class="spinner spinner-dark"></div>
    <p class="loading-text" id="player-loading-text">Mohon bersabar...</p>
  </div>

  <video id="video-player" autoplay playsinline></video>

  <div class="channel-info-overlay" id="channel-overlay">
    <div class="channel-meta">
      <span id="ch-number"></span>
      <span id="ch-name"></span>
    </div>
  </div>
</div>

<!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/hls.js/1.4.12/hls.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dashjs/4.7.0/dash.all.min.js"></script>
<script src="app.js"></script>

</body>
</html>
